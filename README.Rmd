---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```
# dycon: Dyadic Models of Consonance

[![lifecycle](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)

`dycon` is an R package that implements three dyadic models of consonance:

- Hutchinson & Knopoff (1978)
- Sethares (1993)
- Vassilakis (2001)

## Installation

You can install the current version of dycon from Github as follows:

``` r
if (!require(devtools)) install.packages("devtools")
devtools::install_github("dycon")
```

## Usage

These functions take two vectors as input:

- a vector of frequencies, each corresponding to a spectral component;
- a vector of amplitudes, each corresponding to a spectral component.

For analysing musical chords,
it's necessary to expand the notes of the musical 
chord into their implied spectral components.
The `incon` package provides a useful wrapper for these functions
that automatically applies this expansion.

For analysing real audio,
it's necessary to compute the acoustic spectrum
(using e.g. a Fourier Transform)
and then identify the spectral components using a peak-picking algorithm.
See the MIR Toolbox or the Essentia library for such implementations.

```{r}
library(dycon)

f <- c(440, 460, 520) # frequencies
a <- c(1, 1.5, 1) # amplitudes

roughness_hutch(f, a)
roughness_seth(f, a)
roughness_vass(f, a)
```

## References

Hutchinson, W., & Knopoff, L. (1978). The acoustic component of Western consonance. Journal of New Music Research, 7(1), 1–29. https://doi.org/10.1080/09298217808570246

Sethares, W. A. (1993). Local consonance and the relationship between timbre and scale. The Journal of the Acoustical Society of America, 94(3), 1218–1228.

Vassilakis, P. N. (2001). Perceptual and physical properties of amplitude fluctuation and their musical significance. University of California, Los Angeles, CA.
